(function(t){function e(e){for(var a,o,u=e[0],i=e[1],s=e[2],d=0,l=[];d<u.length;d++)o=u[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&l.push(r[o][0]),r[o]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a]);h&&h(e);while(l.length)l.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],a=!0,o=1;o<n.length;o++){var u=n[o];0!==r[u]&&(a=!1)}a&&(c.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},o={app:0},r={app:0},c=[];function u(t){return i.p+"js/"+({}[t]||t)+"."+{"chunk-1b1be973":"c72daa07","chunk-2d0ac42a":"e0032e0b","chunk-2d0d63f1":"905d620a","chunk-2d2086b7":"eede9d77","chunk-2d2102cc":"8313f8aa","chunk-2d216027":"397b99ce","chunk-2d21de4f":"8e339920","chunk-2d222708":"8459903b","chunk-3964be48":"b968bbd5","chunk-439da2e6":"28d97dfd","chunk-7e6de42f":"919751c8","chunk-7e6e220c":"eccbd59b"}[t]+".js"}function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(t){var e=[],n={"chunk-3964be48":1};o[t]?e.push(o[t]):0!==o[t]&&n[t]&&e.push(o[t]=new Promise((function(e,n){for(var a="css/"+({}[t]||t)+"."+{"chunk-1b1be973":"31d6cfe0","chunk-2d0ac42a":"31d6cfe0","chunk-2d0d63f1":"31d6cfe0","chunk-2d2086b7":"31d6cfe0","chunk-2d2102cc":"31d6cfe0","chunk-2d216027":"31d6cfe0","chunk-2d21de4f":"31d6cfe0","chunk-2d222708":"31d6cfe0","chunk-3964be48":"02460bb8","chunk-439da2e6":"31d6cfe0","chunk-7e6de42f":"31d6cfe0","chunk-7e6e220c":"31d6cfe0"}[t]+".css",r=i.p+a,c=document.getElementsByTagName("link"),u=0;u<c.length;u++){var s=c[u],d=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(d===a||d===r))return e()}var l=document.getElementsByTagName("style");for(u=0;u<l.length;u++){s=l[u],d=s.getAttribute("data-href");if(d===a||d===r)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var a=e&&e.target&&e.target.src||r,c=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=a,delete o[t],h.parentNode.removeChild(h),n(c)},h.href=r;var p=document.getElementsByTagName("head")[0];p.appendChild(h)})).then((function(){o[t]=0})));var a=r[t];if(0!==a)if(a)e.push(a[2]);else{var c=new Promise((function(e,n){a=r[t]=[e,n]}));e.push(a[2]=c);var s,d=document.createElement("script");d.charset="utf-8",d.timeout=120,i.nc&&d.setAttribute("nonce",i.nc),d.src=u(t);var l=new Error;s=function(e){d.onerror=d.onload=null,clearTimeout(h);var n=r[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",l.name="ChunkLoadError",l.type=a,l.request=o,n[1](l)}r[t]=void 0}};var h=setTimeout((function(){s({type:"timeout",target:d})}),12e4);d.onerror=d.onload=s,document.head.appendChild(d)}return Promise.all(e)},i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var h=d;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("4de4"),n("4160"),n("b64b"),n("159b"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),o=n("bc3a"),r=n.n(o),c=n("9062"),u=n.n(c),i=(n("e40d"),n("4989"),n("ecee")),s=n("c074"),d=n("b702"),l=n("ad3d"),h=n("f213"),p=(n("26e8"),n("7bb1")),f=n("60d4"),m=n("4c93"),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"position-relative",attrs:{id:"app"}},[n("router-view"),n("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),n("vue-snotify")],1)},b=[],g=n("5530"),k=n("2f62"),O={computed:Object(g["a"])({},Object(k["c"])(["isLoading"]))},y=O,_=(n("5c0b"),n("2877")),C=Object(_["a"])(y,v,b,!1,null,null,null),T=C.exports,L=(n("d3b7"),n("8c4f")),E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Navbar"),n("router-view"),n("Footer"),n("go-top",{attrs:{size:50,"max-width":0,"has-outline":!1}})],1)},w=[],D=n("d178"),x=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},A=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",{staticClass:"c-footer-bg"},[n("div",{staticClass:"container text-center py-3"},[n("p",[t._v("Copyright 2020 © JKTV 線上影視租借 by Chengji")]),n("p",[t._v("練習作品，無商業用途")])])])}],j={},S=Object(_["a"])(j,x,A,!1,null,null,null),N=S.exports,P=n("49ec"),I=n.n(P),G={name:"Home",components:{Navbar:D["a"],Footer:N,GoTop:I.a}},$=G,V=Object(_["a"])($,E,w,!1,null,null,null),R=V.exports;a["a"].use(L["a"]);var q=[{path:"/",component:R,children:[{path:"",name:"Shop",component:function(){return n.e("chunk-3964be48").then(n.bind(null,"0fa5"))}},{path:"/japantv",name:"JapanTv",component:function(){return n.e("chunk-1b1be973").then(n.bind(null,"4508"))}},{path:"/koreatv",name:"KoreaTv",component:function(){return n.e("chunk-439da2e6").then(n.bind(null,"4f59"))}},{path:"product/:productId",name:"Product",component:function(){return n.e("chunk-2d21de4f").then(n.bind(null,"d2f1"))},props:!0},{path:"cart",name:"Cart",component:function(){return n.e("chunk-2d2102cc").then(n.bind(null,"b789"))}},{path:"order",name:"Order",component:function(){return n.e("chunk-2d222708").then(n.bind(null,"cf2a"))}},{path:"confirm_payment/:orderId",name:"ConfirmPayment",component:function(){return n.e("chunk-2d0ac42a").then(n.bind(null,"197c"))},props:!0}]},{path:"/login",name:"Login",component:function(){return n.e("chunk-2d2086b7").then(n.bind(null,"a55b"))}},{path:"/admin",name:"Dashboard",component:function(){return n.e("chunk-2d0d63f1").then(n.bind(null,"7277"))},redirect:{name:"DashboardProducts"},children:[{path:"products",name:"DashboardProducts",component:function(){return n.e("chunk-7e6e220c").then(n.bind(null,"5aeb"))},meta:{requiresAuth:!0}},{path:"order_list",name:"DashboardOrderList",component:function(){return n.e("chunk-7e6de42f").then(n.bind(null,"637f"))},meta:{requiresAuth:!0}},{path:"coupon",name:"DashboardCoupon",component:function(){return n.e("chunk-2d216027").then(n.bind(null,"c147"))},meta:{requiresAuth:!0}}]},{path:"*",redirect:"/"}],B=new L["a"]({mode:"hash",base:"",routes:q,scrollBehavior:function(t,e,n){return n||{x:0,y:0}}}),J=B;n("99af"),n("fb6a");a["a"].use(k["a"]);var F=new k["a"].Store({state:{isLoading:!1,allTvs:[],product:{},cartData:{},couponCode:"",order:{}},mutations:{LOADING:function(t,e){t.isLoading=e},SET_ALL_TV:function(t,e){t.allTvs=e},SET_TV:function(t,e){t.product=e},SET_CART:function(t,e){t.cartData=e},SET_COUPONCODE:function(t,e){t.couponCode=e},SET_ORDER:function(t,e){t.order=e}},actions:{getAllProducts:function(t){var e=t.commit,n="".concat("https://vue-course-api.hexschool.io","/api/").concat("alvin","/products/all");e("LOADING",!0),r.a.get(n).then((function(t){e("LOADING",!1),e("SET_ALL_TV",t.data.products)}))},getProduct:function(t,e){var n=t.commit,o=t.state,c="".concat("https://vue-course-api.hexschool.io","/api/").concat("alvin","/product/").concat(e);n("SET_TV",{}),n("LOADING",!0),r.a.get(c).then((function(t){n("SET_TV",t.data.product),a["a"].set(o.product,"num",1),n("LOADING",!1)}))},getCar:function(t){var e=t.commit,n="".concat("https://vue-course-api.hexschool.io","/api/").concat("alvin","/cart");r.a.get(n).then((function(t){e("SET_CART",t.data.data)}))},removeCart:function(t,e){var n=t.commit,a=t.dispatch,o="".concat("https://vue-course-api.hexschool.io","/api/").concat("alvin","/cart/").concat(e);n("LOADING",!0),r.a.delete(o).then((function(){n("LOADING",!1),a("getCar")}))},addtoCart:function(t,e){var n=t.commit,o=t.dispatch,c=e.id,u=e.nums,i="".concat("https://vue-course-api.hexschool.io","/api/").concat("alvin","/cart"),s={product_id:c,qty:u};n("LOADING",!0),r.a.post(i,{data:s}).then((function(){n("LOADING",!1),o("getCar"),a["a"].$snotify.success("已加入購物車")}))},addCouponCode:function(t){var e=t.commit,n=t.dispatch,o=t.state,c="".concat("https://vue-course-api.hexschool.io","/api/").concat("alvin","/coupon"),u={code:o.couponCode};r.a.post(c,{data:u}).then((function(t){var o=t.data.message;t.data.success?(a["a"].$snotify.success(o),n("getCar")):a["a"].$snotify.warning(o),e("SET_COUPONCODE","")}))},getOrder:function(t,e){var n=t.commit,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("alvin","/order/").concat(e);n("SET_ORDER",{}),n("LOADING",!0),r.a.get(a).then((function(t){n("SET_ORDER",t.data.order),n("LOADING",!1)}))},payOrder:function(t,e){var n=t.commit,o=t.dispatch,c="".concat("https://vue-course-api.hexschool.io","/api/").concat("alvin","/pay/").concat(e);n("LOADING",!0),r.a.post(c).then((function(t){t.data.success&&(window.scrollTo({top:0,left:0,behavior:"smooth"}),o("getOrder",e),o("getCar"),a["a"].$snotify.success(t.data.message),n("LOADING",!1))}))}},modules:{},getters:{reverseTvs:function(t){return t.allTvs.slice().reverse()},japanTv:function(t,e){return e.reverseTvs.filter((function(t){return"經典日劇"===t.category}))},koreaTv:function(t,e){return e.reverseTvs.filter((function(t){return"口碑韓劇"===t.category}))},cartLength:function(t){return t.cartData.carts?t.cartData.carts.length:0}}}),K=(n("a9e3"),n("b680"),n("ac1f"),n("5319"),function(t){var e=Number(t);return"$".concat(e.toFixed(0).replace(/./g,(function(t,e,n){var a=e&&"."!==t&&(n.length-e)%3===0?", ".concat(t).replace(/\s/g,""):t;return a})))}),M=function(t){var e=new Date(1e3*t);return e.toLocaleDateString()};a["a"].config.productionTip=!1,a["a"].prototype.axios=r.a,a["a"].component("Loading",u.a),a["a"].component("ValidationObserver",p["a"]),a["a"].component("ValidationProvider",p["b"]),i["c"].add(s["a"],s["b"],d["a"],s["c"]),a["a"].component("font-awesome-icon",l["a"]),a["a"].filter("currency",K),a["a"].filter("date",M),Object.keys(m).forEach((function(t){Object(p["c"])(t,m[t])})),Object(p["d"])("zh_TW",f);var H={toast:{showProgressBar:!1,pauseOnHover:!1}};a["a"].use(h["a"],H),new a["a"]({router:J,store:F,beforeCreate:function(){a["a"].$snotify=this.$snotify},render:function(t){return t(T)}}).$mount("#app"),J.beforeEach((function(t,e,n){if(t.meta.requiresAuth){var a="".concat("https://vue-course-api.hexschool.io","/api/user/check");r.a.post(a).then((function(t){t.data.success?n():n({path:"/login"})}))}else n()}))},"5c0b":function(t,e,n){"use strict";var a=n("9c0c"),o=n.n(a);o.a},"9c0c":function(t,e,n){},d178:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"navbar navbar-light bg-white fixed-top c-nav-shadow"},[n("div",{staticClass:"container"},[n("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"Shop"}}},[t._v("JKTV 線上影視租借")]),n("div",[n("router-link",{staticClass:"cart-btn text-dark",attrs:{to:{name:"Cart"},title:"購物車"}},[n("span",[n("font-awesome-icon",{attrs:{icon:["fas","shopping-cart"]}}),t.cartLength?n("span",{staticClass:"cart-num"},[t._v(" "+t._s(t.cartLength)+" ")]):t._e()],1)]),n("router-link",{staticClass:"ml-3 user-icon text-dark",attrs:{to:{name:"Login"},title:"後台管理者"}},[n("font-awesome-icon",{attrs:{icon:["fas","user"]}})],1)],1)],1)])},o=[],r=n("5530"),c=n("2f62"),u={name:"Navbar",created:function(){this.$store.dispatch("getCar")},computed:Object(r["a"])({},Object(c["b"])(["cartLength"]))},i=u,s=n("2877"),d=Object(s["a"])(i,a,o,!1,null,"5b285ee0",null);e["a"]=d.exports}});
//# sourceMappingURL=app.3eda5589.js.map