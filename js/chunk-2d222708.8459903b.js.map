{"version":3,"sources":["webpack:///./src/views/Order.vue?b69e","webpack:///src/views/Order.vue","webpack:///./src/views/Order.vue?81a5","webpack:///./src/views/Order.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_m","cartData","_l","item","key","id","_s","product","title","_e","qty","unit","class","coupon","_f","total","final_total","attrs","scopedSlots","_u","fn","ref","handleSubmit","on","$event","preventDefault","createOrder","errors","directives","name","rawName","value","form","user","expression","domProps","target","composing","$set","staticRenderFns","data","email","tel","message","computed","methods","vm","axios","post","url","response","success","$router","push","component"],"mappings":"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","file":"js/chunk-2d222708.8459903b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',{staticClass:\"main my-5\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-6\"},[_c('h2',{staticClass:\"h3\"},[_vm._v(\"訂單明細\")]),_c('div',{staticClass:\"border p-3\"},[_c('table',{staticClass:\"table mt-3\"},[_vm._m(0),_c('tbody',[(_vm.cartData.carts)?_vm._l((_vm.cartData.carts),function(item){return _c('tr',{key:item.id},[_c('td',{staticClass:\"align-middle\"},[_vm._v(\" \"+_vm._s(item.product.title)+\" \"),(item.coupon)?_c('div',{staticClass:\"text-success\"},[_vm._v(\" 已套用優惠券 \")]):_vm._e()]),_c('td',{staticClass:\"align-middle\"},[_vm._v(_vm._s(item.qty)+_vm._s(item.product.unit))]),_c('td',{staticClass:\"align-middle text-right\"},[_c('span',{class:{ 'line-through': item.coupon }},[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(item.total))+\" \")]),(item.coupon)?_c('div',{staticClass:\"c-price mt-0\"},[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(item.final_total))+\" \")]):_vm._e()])])}):_vm._e()],2),_c('tfoot',[_c('tr',[_c('td',{staticClass:\"font-weight-bold\"},[_vm._v(\"訂單金額\")]),_c('td',{staticClass:\"font-weight-bold text-right\",attrs:{\"colspan\":\"3\"}},[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.cartData.final_total)))])])])])])]),_c('div',{staticClass:\"col-md-6\"},[_c('h2',{staticClass:\"h3\"},[_vm._v(\"購買人資訊\")]),_c('div',{staticClass:\"border p-3\"},[_c('ValidationObserver',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar handleSubmit = ref.handleSubmit;\nreturn [_c('form',{on:{\"submit\":function($event){$event.preventDefault();return handleSubmit(_vm.createOrder)}}},[_c('ValidationProvider',{staticClass:\"form-group\",attrs:{\"name\":\"姓名\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('label',{staticClass:\"font-weight-bold required\",attrs:{\"for\":\"name\"}},[_vm._v(\"姓名*\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.name),expression:\"form.user.name\"}],staticClass:\"form-control\",attrs:{\"id\":\"name\",\"type\":\"text\",\"placeholder\":\"請輸入姓名\"},domProps:{\"value\":(_vm.form.user.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"name\", $event.target.value)}}}),_c('small',{staticClass:\"form-text text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}],null,true)}),_c('ValidationProvider',{staticClass:\"form-group\",attrs:{\"name\":\"電話\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('label',{staticClass:\"font-weight-bold required mt-2\",attrs:{\"for\":\"tel\"}},[_vm._v(\"電話*\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.tel),expression:\"form.user.tel\"}],staticClass:\"form-control\",attrs:{\"id\":\"tel\",\"type\":\"number\",\"placeholder\":\"請輸入電話\"},domProps:{\"value\":(_vm.form.user.tel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"tel\", $event.target.value)}}}),_c('small',{staticClass:\"form-text text-danger text-left\"},[_vm._v(_vm._s(errors[0]))])]}}],null,true)}),_c('ValidationProvider',{staticClass:\"form-group\",attrs:{\"name\":\"Email\",\"rules\":\"required|email\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('label',{staticClass:\"font-weight-bold required mt-2\",attrs:{\"for\":\"email\"}},[_vm._v(\"Email*\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.email),expression:\"form.user.email\"}],staticClass:\"form-control\",attrs:{\"id\":\"email\",\"type\":\"text\",\"placeholder\":\"請輸入 Email\"},domProps:{\"value\":(_vm.form.user.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"email\", $event.target.value)}}}),_c('small',{staticClass:\"form-text text-danger text-left\"},[_vm._v(_vm._s(errors[0]))])]}}],null,true)}),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"font-weight-bold mt-2\",attrs:{\"for\":\"message\"}},[_vm._v(\"備註\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.message),expression:\"form.message\"}],staticClass:\"form-control\",attrs:{\"id\":\"message\",\"cols\":\"30\",\"rows\":\"5\"},domProps:{\"value\":(_vm.form.message)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"message\", $event.target.value)}}})]),_c('button',{staticClass:\"btn btn-warning w-100\",attrs:{\"type\":\"submit\"}},[_vm._v(\"確認訂單\")])],1)]}}])})],1)])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',{staticClass:\"c-top-borderless\"},[_c('th',[_vm._v(\"產品名稱\")]),_c('th',{staticClass:\"text-center\"},[_vm._v(\"期限\")]),_c('th',{staticClass:\"text-right\"},[_vm._v(\"價格\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <main class=\"main my-5\">\r\n    <div class=\"container\">\r\n      <div class=\"row\">\r\n        <div class=\"col-md-6\">\r\n          <h2 class=\"h3\">訂單明細</h2>\r\n          <div class=\"border p-3\">\r\n            <table class=\"table mt-3\">\r\n              <thead class=\"c-top-borderless\">\r\n                <th>產品名稱</th>\r\n                <th class=\"text-center\">期限</th>\r\n                <th class=\"text-right\">價格</th>\r\n              </thead>\r\n              <tbody>\r\n                <template v-if=\"cartData.carts\">\r\n                  <tr v-for=\"item in cartData.carts\" :key=\"item.id\">\r\n                    <td class=\"align-middle\">\r\n                      {{ item.product.title }}\r\n                      <div class=\"text-success\" v-if=\"item.coupon\">\r\n                        已套用優惠券\r\n                      </div>\r\n                    </td>\r\n                    <td class=\"align-middle\">{{ item.qty }}{{ item.product.unit }}</td>\r\n                    <td class=\"align-middle text-right\">\r\n                      <span :class=\"{ 'line-through': item.coupon }\">\r\n                        {{ item.total | currency }}\r\n                      </span>\r\n                      <div class=\"c-price mt-0\" v-if=\"item.coupon\">\r\n                        {{ item.final_total | currency }}\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                </template>\r\n              </tbody>\r\n              <tfoot>\r\n                <tr>\r\n                  <td class=\"font-weight-bold\">訂單金額</td>\r\n                  <td colspan=\"3\" class=\"font-weight-bold text-right\">{{ cartData.final_total | currency }}</td>\r\n                </tr>\r\n              </tfoot>\r\n            </table>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-md-6\">\r\n          <h2 class=\"h3\">購買人資訊</h2>\r\n          <div class=\"border p-3\">\r\n            <ValidationObserver v-slot=\"{ handleSubmit }\">\r\n              <form @submit.prevent=\"handleSubmit(createOrder)\">\r\n                <ValidationProvider name=\"姓名\" rules=\"required\" v-slot=\"{ errors }\" class=\"form-group\">\r\n                  <label for=\"name\" class=\"font-weight-bold required\">姓名*</label>\r\n                  <input v-model=\"form.user.name\" id=\"name\" type=\"text\" class=\"form-control\" placeholder=\"請輸入姓名\">\r\n                  <small class=\"form-text text-danger\">{{ errors[0] }}</small>\r\n                </ValidationProvider>\r\n                <ValidationProvider name=\"電話\" rules=\"required\" v-slot=\"{ errors }\" class=\"form-group\">\r\n                  <label for=\"tel\" class=\"font-weight-bold required mt-2\">電話*</label>\r\n                  <input v-model=\"form.user.tel\" id=\"tel\" type=\"number\" class=\"form-control\" placeholder=\"請輸入電話\">\r\n                  <small class=\"form-text text-danger text-left\">{{ errors[0] }}</small>\r\n                </ValidationProvider>\r\n                <ValidationProvider name=\"Email\" rules=\"required|email\" v-slot=\"{ errors }\" class=\"form-group\">\r\n                  <label for=\"email\" class=\"font-weight-bold required mt-2\">Email*</label>\r\n                  <input v-model=\"form.user.email\" id=\"email\" type=\"text\" class=\"form-control\" placeholder=\"請輸入 Email\">\r\n                  <small class=\"form-text text-danger text-left\">{{ errors[0] }}</small>\r\n                </ValidationProvider>\r\n                <div class=\"form-group\">\r\n                  <label for=\"message\" class=\"font-weight-bold mt-2\">備註</label>\r\n                  <textarea id=\"message\" class=\"form-control\" cols=\"30\" rows=\"5\" v-model=\"form.message\" />\r\n                </div>\r\n                <button type=\"submit\" class=\"btn btn-warning w-100\">確認訂單</button>\r\n              </form>\r\n            </ValidationObserver>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </main>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex';\r\n\r\nexport default {\r\n  name: 'Order',\r\n  data() {\r\n    return {\r\n      form: {\r\n        user: {\r\n          name: '',\r\n          email: '',\r\n          tel: '',\r\n        },\r\n        message: '',\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState(['cartData']),\r\n  },\r\n  methods: {\r\n    createOrder() {\r\n      const vm = this;\r\n      const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/order`;\r\n      const order = vm.form;\r\n      vm.axios.post(url, { data: order }).then((response) => {\r\n        if (response.data.success) {\r\n          vm.$router.push({ name: 'ConfirmPayment', params: { orderId: response.data.orderId } });\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Order.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Order.vue?vue&type=template&id=597bfdbe&\"\nimport script from \"./Order.vue?vue&type=script&lang=js&\"\nexport * from \"./Order.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}